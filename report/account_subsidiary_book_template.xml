<odoo>
    <template id='subsidiary_book_report'>
        <style>
h4{padding-top:2rem;padding-bottom:1rem;}
thead,th{text-align:center;}
td,th{
vertical-align:middle !important;
font-size:small;}
.beginingDamount,.beginingCamount,.damount,.camount,.endDamount,.endCamount{
white-space:nowrap !important;}
@media print{
.beginingDamount,.beginingCamount,.damount,.camount,.endDamount,.endCamount{
white-space:nowrap !important;}}
.account_number{text-overflow:ellipsis;}
table tr{
page-break-inside: avoid !important;}
.org_name{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;}
        </style>
        <t t-call="web.basic_layout">
            <div class="container text-center" style='display:flex;flex-direction:column;'>
                <t t-set="start" t-value="data['form']['startDate']">
                </t>
                <t t-set="end" t-value="data['form']['endDate']">
                </t>
                <t t-set='direction' t-value='docs.main_account.direction'></t>
                <t t-set='account_name' t-value='docs.main_account.name'></t>
                <t t-set='by' t-value='docs.beginingOfYearBalance'></t>
                <div class="row">
                    <h4 class='col'>科目明细账</h4>
                </div>
                <div class="row">
                    <h6 class='col' t-if="start=='1970-01-01' and end=='9999-12-31'">1970年1月至9999年12月</h6>
                    <h6 class='col' t-else="">
                        <t t-esc="(start[0:7]).replace('-','年')"></t>
                        <span>月至</span>
                        <span t-if="end!='9999-12-31'">
                            <t t-esc="(end[0:7]).replace('-','年')"></t>月
                        </span>
                        <span t-if="end=='9999-12-31'">9999年12月</span>
                    </h6>
                </div>
                <div class="row">
                    <span class='col text-left'>科目:                        
                        <t t-esc='account_name'></t>
                    </span>
                    <span class='col'>编号策略</span>
                </div>
                <div class="row">
                    <div class="">
                        <table class='table  table-bordered table-sm table-striped table-hover'>
                            <thead>
                                <tr>
                                    <th>凭证日期</th>
                                    <th>月份</th>
                                    <th>凭证号</th>
                                    <th>唯一号</th>
                                    <th>凭证标签</th>
                                    <th>机构名称</th>
                                    <th>分录摘要</th>
                                    <th>科目编码</th>
                                    <th>科目名称</th>
                                    <th>核算项目</th>
                                    <th>借方金额</th>
                                    <th>贷方金额</th>
                                    <th></th>
                                    <th>余额</th>
                                    <th>现金流量</th>
                                </tr>
                            </thead>
                            <tbody class='text-left'>
                                <t t-foreach="docs.entrys" t-as="entry">
                                    <tr style="page-break-inside: avoid !important;" t-att="{'org_id': entry.org_id}">
                                        <td>
                                            <span t-esc="entry.voucherdate"></span>
                                        </td>
                                        <td>
                                            <span t-esc='entry.month'></span>
                                        </td>
                                        <td>
                                            <span t-esc="entry.numberTasticsContainer_str"></span>
                                        </td>
                                        <td>
                                            <span t-esc="entry.uniqueNumber"></span>
                                        </td>
                                        <td>
                                            <span t-raw='entry.roolbook_html'></span>
                                        </td>
                                        <td>
                                            <span t-esc='entry.org_name'></span>
                                        </td>
                                        <td>
                                            <span t-esc='entry.explain'></span>
                                        </td>
                                        <td>
                                            <span t-esc='entry.account_number'></span>
                                        </td>
                                        <td>
                                            <span t-esc='entry.account_name'></span>
                                        </td>
                                        <td>
                                            <span t-raw="entry.items_html"></span>
                                        </td>
                                        <td>
                                            <span t-esc='entry.damount'></span>
                                        </td>
                                        <td>
                                            <span t-esc='entry.camount'></span>
                                        </td>
                                        <td>
                                            <span t-if="entry.direction=='1'">借</span>
                                            <span t-else="">贷</span>
                                        </td>
                                        <td>
                                            <span t-esc='entry.balance'></span>
                                        </td>
                                        <td>
                                            <span t-esc='entry.cash_flow'></span>
                                        </td>
                                    </tr>
                                </t>
                            </tbody>
                            <tfoot>
                            </tfoot>
                        </table>
                    </div>
                </div>
            </div>
        </t>
        <script>
$(function(){
});
        </script>
    </template>
</odoo>
